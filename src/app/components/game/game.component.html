<p-accordion [multiple]="true">
    <p-accordionTab header="Options" [selected]="!start">
        <div class="d-flex justify-content-center">
            <p-card>
                <form [formGroup]="settingsForm" class="form-group" (ngSubmit)="onSettingsSubmit()">
                    <div class="row d-flex justify-content-center">
                        <div class="col">
                            Categories
                            <br><br>
                            <p-listbox [options]="categories" [multiple]="true" optionLabel="label" optionValue="value"
                                formControlName="categories"></p-listbox>
                        </div>
                        <div class="col">
                            Number
                            <br><br>
                            <p-listbox [options]="numbersOfWords" formControlName="numberOfWords">
                            </p-listbox>
                        </div>
                        <div class="col">
                            Revision
                            <br><br>
                            <span class=" d-flex justify-content-center">
                                <p-checkbox formControlName="revision" [binary]="true"></p-checkbox>
                            </span>
                        </div>
                    </div>
                    <br>
                    <div class="row d-flex justify-content-center">
                        <div class="col">
                            <button pButton pRipple label="Start" icon="pi pi-play" type="submit"
                                [disabled]="settingsForm.invalid || start"
                                class="p-button-success form-control"></button>
                        </div>
                        <div class="col">
                            <button pButton pRipple label="Stop" icon="pi pi-ban" (click)="onStop()" [disabled]="!start"
                                class="p-button-danger form-control"></button>
                        </div>
                        <br>
                    </div>
                </form>
            </p-card>
        </div>
    </p-accordionTab>
    <p-accordionTab header="Revision" [selected]="start && revision" [disabled]="!start || !revision">
        <div class="d-flex justify-content-center">
            <p-card>
                Revision
            </p-card>
        </div>
    </p-accordionTab>
    <p-accordionTab header="Game" [selected]="start && !revision" [disabled]="!start || revision">
        <div class="d-flex justify-content-center">
            <p-card>
                Game
            </p-card>
        </div>
    </p-accordionTab>
</p-accordion>
<br>
<div *ngIf="start">
    <form [formGroup]="gameForm" class="form-group">
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label for="german">German</label>
                    <input type="text" class="form-control" id="german" formControlName="german" readonly />
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label for="translation">Traduction</label>
                    <select class="form-control" formControlName="translation" (change)="onGameSubmit()">
                        <option *ngFor="let translation of randomTranslations" [value]="translation">
                            {{ translation }}
                        </option>
                    </select>
                </div>
            </div>
        </div>
    </form>
</div>


<br>
<app-score></app-score>
<br>
<div *ngIf="!!answer" class="d-flex justify-content-center" [ngClass]="{'green': isCorrect, 'red': !isCorrect}">
    {{ answer.german }} = {{ answer.translation }}
</div>